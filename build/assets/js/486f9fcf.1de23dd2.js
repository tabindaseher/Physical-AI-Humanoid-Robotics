"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[5133],{8453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>r});var s=a(6540);const i={},t=s.createContext(i);function c(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:n},e.children)}},9178:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>l});var s=a(4848),i=a(8453);const t={sidebar_position:1,title:"Appendix A: ROS2 Cheatsheet"},c="Appendix A: ROS 2 Cheatsheet",r={id:"appendices/appendix-a-ros2-cheatsheet",title:"Appendix A: ROS2 Cheatsheet",description:"Core Concepts",source:"@site/docs/appendices/appendix-a-ros2-cheatsheet.md",sourceDirName:"appendices",slug:"/appendices/appendix-a-ros2-cheatsheet",permalink:"/docs/appendices/appendix-a-ros2-cheatsheet",draft:!1,unlisted:!1,editUrl:"https://github.com/tabindaseher/Physical-AI-Humanoid-Robotics/edit/main/docs/appendices/appendix-a-ros2-cheatsheet.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Appendix A: ROS2 Cheatsheet"},sidebar:"tutorialSidebar",previous:{title:"Chapter 8 Exercises",permalink:"/docs/chapter-08/exercises"},next:{title:"Appendix B: Gazebo Setup",permalink:"/docs/appendices/appendix-b-gazebo-setup"}},o={},l=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Common Commands",id:"common-commands",level:2},{value:"Package Management",id:"package-management",level:3},{value:"Command Line Tools",id:"command-line-tools",level:3},{value:"Launch Files",id:"launch-files",level:2},{value:"Python Launch Files",id:"python-launch-files",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Actions",id:"actions",level:2},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"TF2 (Transform Library)",id:"tf2-transform-library",level:2},{value:"Common Build System (CMakeLists.txt)",id:"common-build-system-cmakeliststxt",level:2},{value:"Package.xml Template",id:"packagexml-template",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"appendix-a-ros-2-cheatsheet",children:"Appendix A: ROS 2 Cheatsheet"}),"\n",(0,s.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,s.jsx)(n.p,{children:"Nodes are the fundamental execution units in ROS 2 that perform computation."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Creating a Node:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ Example\n#include "rclcpp/rclcpp.hpp"\n\nclass MinimalNode : public rclcpp::Node\n{\npublic:\n    MinimalNode() : Node("minimal_node") {}\n};\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python Example\nimport rclpy\nfrom rclpy.node import Node\n\nclass MinimalNode(Node):\n    def __init__(self):\n        super().__init__('minimal_node')\n"})}),"\n",(0,s.jsx)(n.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,s.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Publisher:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ Publisher\nauto publisher = this->create_publisher<std_msgs::msg::String>("topic", 10);\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python Publisher\nself.publisher_ = self.create_publisher(String, 'topic', 10)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Subscriber:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ Subscriber\nauto subscription = this->create_subscription<std_msgs::msg::String>(\n    "topic", 10, \n    [this](const std_msgs::msg::String::SharedPtr msg) {\n        RCLCPP_INFO(this->get_logger(), "I heard: \'%s\'", msg->data.c_str());\n    }\n);\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python Subscriber\ndef listener_callback(self, msg):\n    self.get_logger().info('I heard: \"%s\"' % msg.data)\n\nself.subscription = self.create_subscription(\n    String,\n    'topic',\n    self.listener_callback,\n    10)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"common-commands",children:"Common Commands"}),"\n",(0,s.jsx)(n.h3,{id:"package-management",children:"Package Management"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create a new package\nros2 pkg create --build-type ament_cmake my_package\n\n# Build all packages\ncolcon build\n\n# Build specific package\ncolcon build --packages-select my_package\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,s.jsx)(n.h3,{id:"command-line-tools",children:"Command Line Tools"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# List topics\nros2 topic list\n\n# Echo a topic\nros2 topic echo /topic_name std_msgs/msg/String\n\n# Publish to a topic\nros2 topic pub /topic_name std_msgs/msg/String "data: \'Hello\'"\n\n# List services\nros2 service list\n\n# Call a service\nros2 service call /service_name example_interfaces/srv/AddTwoInts "{a: 1, b: 2}"\n\n# List nodes\nros2 node list\n\n# Get information about a node\nros2 node info /node_name\n'})}),"\n",(0,s.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,s.jsx)(n.h3,{id:"python-launch-files",children:"Python Launch Files"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# launch/my_launch.py\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_package',\n            executable='my_node',\n            name='my_node',\n            parameters=[\n                {'param1': 'value1'},\n                {'param2': 42}\n            ]\n        )\n    ])\n"})}),"\n",(0,s.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ Parameter Declaration\nthis->declare_parameter("my_param", "default_value");\nauto param_value = this->get_parameter("my_param").as_string();\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python Parameter Declaration\nself.declare_parameter('my_param', 'default_value')\nparam_value = self.get_parameter('my_param').value\n"})}),"\n",(0,s.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python Action Client\nfrom rclpy.action import ActionClient\nfrom example_interfaces.action import Fibonacci\n\nclass FibonacciActionClient(Node):\n    def __init__(self):\n        super().__init__('fibonacci_action_client')\n        self._action_client = ActionClient(\n            self, Fibonacci, 'fibonacci')\n"})}),"\n",(0,s.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ QoS Settings\nrclcpp::QoS qos_profile(10);\nqos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_RELIABLE);\nqos_profile.durability(RMW_QOS_POLICY_DURABILITY_VOLATILE);\n\nauto publisher = this->create_publisher<std_msgs::msg::String>(\n    "topic", qos_profile);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"tf2-transform-library",children:"TF2 (Transform Library)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'// C++ TF2 Broadcaster\n#include "tf2_ros/transform_broadcaster.h"\ngeometry_msgs::msg::TransformStamped t;\nt.header.stamp = this->get_clock()->now();\nt.header.frame_id = "world";\nt.child_frame_id = "robot";\n// Set transform values...\ntf_broadcaster_->sendTransform(t);\n'})}),"\n",(0,s.jsx)(n.h2,{id:"common-build-system-cmakeliststxt",children:"Common Build System (CMakeLists.txt)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.8)\nproject(my_package)\n\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(std_msgs REQUIRED)\n\nadd_executable(my_node src/my_node.cpp)\nament_target_dependencies(my_node rclcpp std_msgs)\n\ninstall(TARGETS my_node DESTINATION lib/${PROJECT_NAME})\n\nament_package()\n"})}),"\n",(0,s.jsx)(n.h2,{id:"packagexml-template",children:"Package.xml Template"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_package</name>\n  <version>0.0.0</version>\n  <description>TODO: Package description</description>\n  <maintainer email="user@todo.todo">user</maintainer>\n  <license>TODO: License declaration</license>\n\n  <buildtool_depend>ament_cmake</buildtool_depend>\n\n  <depend>rclcpp</depend>\n  <depend>std_msgs</depend>\n\n  <test_depend>ament_lint_auto</test_depend>\n  <test_depend>ament_lint_common</test_depend>\n\n  <export>\n    <build_type>ament_cmake</build_type>\n  </export>\n</package>\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);