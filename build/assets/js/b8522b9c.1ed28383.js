"use strict";(globalThis.webpackChunkbook_docusaurus=globalThis.webpackChunkbook_docusaurus||[]).push([[8224],{216(e,n,a){a.r(n),a.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=a(8168),t=(a(6540),a(5680));const r={sidebar_position:2,title:"Appendix B: Gazebo Setup"},i="Appendix B: Gazebo Setup",l={unversionedId:"appendices/appendix-b-gazebo-setup",id:"appendices/appendix-b-gazebo-setup",title:"Appendix B: Gazebo Setup",description:"Introduction to Gazebo",source:"@site/docs/appendices/appendix-b-gazebo-setup.md",sourceDirName:"appendices",slug:"/appendices/appendix-b-gazebo-setup",permalink:"/docs/appendices/appendix-b-gazebo-setup",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/appendices/appendix-b-gazebo-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Appendix B: Gazebo Setup"},sidebar:"tutorialSidebar",previous:{title:"Appendix A: ROS2 Cheatsheet",permalink:"/docs/appendices/appendix-a-ros2-cheatsheet"},next:{title:"Appendix C: Isaac ROS Tutorials",permalink:"/docs/appendices/appendix-c-isaac-ros-tutorials"}},s={},p=[{value:"Introduction to Gazebo",id:"introduction-to-gazebo",level:2},{value:"Installation",id:"installation",level:2},{value:"Ubuntu Installation",id:"ubuntu-installation",level:3},{value:"ROS 2 Integration",id:"ros-2-integration",level:3},{value:"Basic Gazebo Usage",id:"basic-gazebo-usage",level:2},{value:"Starting Gazebo",id:"starting-gazebo",level:3},{value:"Creating Robot Models",id:"creating-robot-models",level:2},{value:"URDF to SDF Conversion",id:"urdf-to-sdf-conversion",level:3},{value:"Adding Gazebo-Specific Tags",id:"adding-gazebo-specific-tags",level:3},{value:"Common Sensors in Gazebo",id:"common-sensors-in-gazebo",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"LIDAR Sensor",id:"lidar-sensor",level:3},{value:"Launching with ROS 2",id:"launching-with-ros-2",level:2},{value:"Launch File Example",id:"launch-file-example",level:3},{value:"Physics Configuration",id:"physics-configuration",level:2},{value:"World File Example",id:"world-file-example",level:3},{value:"Gazebo ROS Control",id:"gazebo-ros-control",level:2},{value:"ROS 2 Control Integration",id:"ros-2-control-integration",level:3},{value:"Control Configuration",id:"control-configuration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Environment Variables",id:"environment-variables",level:3}],u={toc:p};function c({components:e,...n}){return(0,t.yg)("wrapper",(0,o.A)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"appendix-b-gazebo-setup"},"Appendix B: Gazebo Setup"),(0,t.yg)("h2",{id:"introduction-to-gazebo"},"Introduction to Gazebo"),(0,t.yg)("p",null,"Gazebo is a 3D simulation environment for robotics that provides realistic physics simulation, high-quality graphics, and convenient programmatic interfaces."),(0,t.yg)("h2",{id:"installation"},"Installation"),(0,t.yg)("h3",{id:"ubuntu-installation"},"Ubuntu Installation"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# Set up the Gazebo package repository\nsudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nwget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\n\n# Update packages and install Gazebo\nsudo apt-get update\nsudo apt-get install gazebo libgazebo-dev\n")),(0,t.yg)("h3",{id:"ros-2-integration"},"ROS 2 Integration"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# Install Gazebo ROS packages\nsudo apt install ros-humble-gazebo-ros-pkgs\n")),(0,t.yg)("h2",{id:"basic-gazebo-usage"},"Basic Gazebo Usage"),(0,t.yg)("h3",{id:"starting-gazebo"},"Starting Gazebo"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# Launch Gazebo with GUI\ngazebo\n\n# Launch with a specific world file\ngazebo my_world.world\n\n# Launch without GUI (server only)\ngzserver my_world.world\n")),(0,t.yg)("h2",{id:"creating-robot-models"},"Creating Robot Models"),(0,t.yg)("h3",{id:"urdf-to-sdf-conversion"},"URDF to SDF Conversion"),(0,t.yg)("p",null,"Gazebo uses SDF (Simulation Description Format), but can read URDF (Unified Robot Description Format) models."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Basic URDF Robot:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<robot name="simple_robot">\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\n    </inertial>\n  </link>\n</robot>\n')),(0,t.yg)("h3",{id:"adding-gazebo-specific-tags"},"Adding Gazebo-Specific Tags"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<robot name="gazebo_robot">\n  <link name="chassis">\n    \x3c!-- Link definition as above --\x3e\n  </link>\n\n  \x3c!-- Gazebo-specific plugin --\x3e\n  <gazebo>\n    <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\n      <ros>\n        <namespace>robot</namespace>\n        <remapping>cmd_vel:=cmd_vel</remapping>\n        <remapping>odom:=odom</remapping>\n      </ros>\n      <left_joint>left_wheel_joint</left_joint>\n      <right_joint>right_wheel_joint</right_joint>\n      <wheel_separation>0.4</wheel_separation>\n      <wheel_diameter>0.2</wheel_diameter>\n    </plugin>\n  </gazebo>\n</robot>\n')),(0,t.yg)("h2",{id:"common-sensors-in-gazebo"},"Common Sensors in Gazebo"),(0,t.yg)("h3",{id:"camera-sensor"},"Camera Sensor"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<sensor name="camera" type="camera">\n  <camera name="head">\n    <horizontal_fov>1.047</horizontal_fov>\n    <image>\n      <width>640</width>\n      <height>480</height>\n    </image>\n    <clip>\n      <near>0.1</near>\n      <far>10</far>\n    </clip>\n  </camera>\n  <always_on>1</always_on>\n  <update_rate>30</update_rate>\n  <visualize>true</visualize>\n</sensor>\n')),(0,t.yg)("h3",{id:"lidar-sensor"},"LIDAR Sensor"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<sensor name="laser" type="ray">\n  <ray>\n    <scan>\n      <horizontal>\n        <samples>360</samples>\n        <resolution>1</resolution>\n        <min_angle>-3.14159</min_angle>\n        <max_angle>3.14159</max_angle>\n      </horizontal>\n    </scan>\n    <range>\n      <min>0.1</min>\n      <max>10</max>\n      <resolution>0.01</resolution>\n    </range>\n  </ray>\n  <always_on>1</always_on>\n  <visualize>true</visualize>\n  <update_rate>10</update_rate>\n</sensor>\n')),(0,t.yg)("h2",{id:"launching-with-ros-2"},"Launching with ROS 2"),(0,t.yg)("h3",{id:"launch-file-example"},"Launch File Example"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-python"},"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Launch Gazebo Server\n    gazebo_server = Node(\n        package='gazebo_ros',\n        executable='gzserver',\n        name='gazebo_server',\n        parameters=[{'use_sim_time': True}]\n    )\n    \n    # Launch Gazebo Client\n    gazebo_client = Node(\n        package='gazebo_ros',\n        executable='gzclient',\n        name='gazebo_client'\n    )\n    \n    # Spawn robot in Gazebo\n    spawn_robot = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=[\n            '-topic', 'robot_description',\n            '-entity', 'my_robot',\n            '-x', '0', '-y', '0', '-z', '0.1'\n        ],\n        output='screen'\n    )\n    \n    return LaunchDescription([\n        gazebo_server,\n        gazebo_client,\n        spawn_robot\n    ])\n")),(0,t.yg)("h2",{id:"physics-configuration"},"Physics Configuration"),(0,t.yg)("h3",{id:"world-file-example"},"World File Example"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<sdf version="1.7">\n  <world name="default">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n    </physics>\n    \n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    \n    \x3c!-- Sun --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n    \n    \x3c!-- Your robot or models --\x3e\n    <model name="my_robot">\n      \x3c!-- Model definition --\x3e\n    </model>\n  </world>\n</sdf>\n')),(0,t.yg)("h2",{id:"gazebo-ros-control"},"Gazebo ROS Control"),(0,t.yg)("h3",{id:"ros-2-control-integration"},"ROS 2 Control Integration"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-xml"},'<gazebo>\n  <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">\n    <parameters>$(find my_robot_control)/config/my_robot_control.yaml</parameters>\n  </plugin>\n</gazebo>\n')),(0,t.yg)("h3",{id:"control-configuration"},"Control Configuration"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-yaml"},'controller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\njoint_state_broadcaster:\n  type: joint_state_broadcaster/JointStateBroadcaster\n\nvelocity_controller:\n  type: diff_drive_controller/DiffDriveController\n\ndiff_drive_controller:\n  ros__parameters:\n    left_wheel_names: ["left_wheel_joint"]\n    right_wheel_names: ["right_wheel_joint"]\n    wheel_separation: 0.4\n    wheel_radius: 0.1\n    publish_rate: 50.0\n')),(0,t.yg)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,t.yg)("h3",{id:"common-issues-and-solutions"},"Common Issues and Solutions"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Gazebo not starting"),": Check graphics drivers and X11 forwarding"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Robot falling through ground"),": Verify inertial properties in URDF"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Sensors not publishing"),": Check ROS topic connections"),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Performance issues"),": Reduce physics update rate or simplify models")),(0,t.yg)("h3",{id:"environment-variables"},"Environment Variables"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-bash"},"# Set Gazebo resources path\nexport GAZEBO_RESOURCE_PATH=/usr/share/gazebo-11:$GAZEBO_RESOURCE_PATH\n\n# Set models path\nexport GAZEBO_MODEL_PATH=/path/to/models:$GAZEBO_MODEL_PATH\n\n# Set plugin path\nexport GAZEBO_PLUGIN_PATH=/usr/lib/x86_64-linux-gnu/gazebo-11/plugins:$GAZEBO_PLUGIN_PATH\n")))}c.isMDXComponent=!0},5680(e,n,a){a.d(n,{xA:()=>u,yg:()=>d});var o=a(6540);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,o)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach(function(n){t(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function l(e,n){if(null==e)return{};var a,o,t=function(e,n){if(null==e)return{};var a,o,t={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var s=o.createContext({}),p=function(e){var n=o.useContext(s),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},u=function(e){var n=p(e.components);return o.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},g=o.forwardRef(function(e,n){var a=e.components,t=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),g=p(a),d=t,m=g["".concat(s,".").concat(d)]||g[d]||c[d]||r;return a?o.createElement(m,i(i({ref:n},u),{},{components:a})):o.createElement(m,i({ref:n},u))});function d(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var r=a.length,i=new Array(r);i[0]=g;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:t,i[1]=l;for(var p=2;p<r;p++)i[p]=a[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}g.displayName="MDXCreateElement"}}]);