"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[5133],{8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>c});var a=r(6540);const s={},i=a.createContext(s);function t(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:n},e.children)}},9178:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var a=r(4848),s=r(8453);const i={sidebar_position:1,title:"Appendix A: ROS2 Cheatsheet"},t="Appendix A: ROS 2 Cheatsheet",c={id:"appendices/appendix-a-ros2-cheatsheet",title:"Appendix A: ROS2 Cheatsheet",description:"Core Concepts",source:"@site/docs/appendices/appendix-a-ros2-cheatsheet.md",sourceDirName:"appendices",slug:"/appendices/appendix-a-ros2-cheatsheet",permalink:"/docs/appendices/appendix-a-ros2-cheatsheet",draft:!1,unlisted:!1,editUrl:"https://github.com/tabindaseher/Physical-AI-Humanoid-Robotics/edit/main/docs/appendices/appendix-a-ros2-cheatsheet.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Appendix A: ROS2 Cheatsheet"},sidebar:"tutorialSidebar",previous:{title:"Chapter 8 Exercises",permalink:"/docs/chapter-08/exercises"},next:{title:"Appendix B: Gazebo Setup",permalink:"/docs/appendices/appendix-b-gazebo-setup"}},o={},l=[{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Common Commands",id:"common-commands",level:2},{value:"Package Management",id:"package-management",level:3},{value:"Command Line Tools",id:"command-line-tools",level:3},{value:"Launch Files",id:"launch-files",level:2},{value:"Python Launch Files",id:"python-launch-files",level:3},{value:"Parameters",id:"parameters",level:2},{value:"Actions",id:"actions",level:2},{value:"Quality of Service (QoS)",id:"quality-of-service-qos",level:2},{value:"TF2 (Transform Library)",id:"tf2-transform-library",level:2},{value:"Common Build System (CMakeLists.txt)",id:"common-build-system-cmakeliststxt",level:2},{value:"Package.xml Template",id:"packagexml-template",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"appendix-a-ros-2-cheatsheet",children:"Appendix A: ROS 2 Cheatsheet"}),"\n",(0,a.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,a.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,a.jsx)(n.p,{children:"Nodes are the fundamental execution units in ROS 2 that perform computation."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Creating a Node:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ Example\r\n#include "rclcpp/rclcpp.hpp"\r\n\r\nclass MinimalNode : public rclcpp::Node\r\n{\r\npublic:\r\n    MinimalNode() : Node("minimal_node") {}\r\n};\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Python Example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalNode(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_node')\n"})}),"\n",(0,a.jsx)(n.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,a.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Publisher:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ Publisher\r\nauto publisher = this->create_publisher<std_msgs::msg::String>("topic", 10);\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Python Publisher\r\nself.publisher_ = self.create_publisher(String, 'topic', 10)\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Subscriber:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ Subscriber\r\nauto subscription = this->create_subscription<std_msgs::msg::String>(\r\n    "topic", 10, \r\n    [this](const std_msgs::msg::String::SharedPtr msg) {\r\n        RCLCPP_INFO(this->get_logger(), "I heard: \'%s\'", msg->data.c_str());\r\n    }\r\n);\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Python Subscriber\r\ndef listener_callback(self, msg):\r\n    self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\nself.subscription = self.create_subscription(\r\n    String,\r\n    'topic',\r\n    self.listener_callback,\r\n    10)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"common-commands",children:"Common Commands"}),"\n",(0,a.jsx)(n.h3,{id:"package-management",children:"Package Management"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create a new package\r\nros2 pkg create --build-type ament_cmake my_package\r\n\r\n# Build all packages\r\ncolcon build\r\n\r\n# Build specific package\r\ncolcon build --packages-select my_package\r\n\r\n# Source the workspace\r\nsource install/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"command-line-tools",children:"Command Line Tools"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# List topics\r\nros2 topic list\r\n\r\n# Echo a topic\r\nros2 topic echo /topic_name std_msgs/msg/String\r\n\r\n# Publish to a topic\r\nros2 topic pub /topic_name std_msgs/msg/String "data: \'Hello\'"\r\n\r\n# List services\r\nros2 service list\r\n\r\n# Call a service\r\nros2 service call /service_name example_interfaces/srv/AddTwoInts "{a: 1, b: 2}"\r\n\r\n# List nodes\r\nros2 node list\r\n\r\n# Get information about a node\r\nros2 node info /node_name\n'})}),"\n",(0,a.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,a.jsx)(n.h3,{id:"python-launch-files",children:"Python Launch Files"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# launch/my_launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='my_package',\r\n            executable='my_node',\r\n            name='my_node',\r\n            parameters=[\r\n                {'param1': 'value1'},\r\n                {'param2': 42}\r\n            ]\r\n        )\r\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ Parameter Declaration\r\nthis->declare_parameter("my_param", "default_value");\r\nauto param_value = this->get_parameter("my_param").as_string();\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Python Parameter Declaration\r\nself.declare_parameter('my_param', 'default_value')\r\nparam_value = self.get_parameter('my_param').value\n"})}),"\n",(0,a.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"# Python Action Client\r\nfrom rclpy.action import ActionClient\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciActionClient(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_action_client')\r\n        self._action_client = ActionClient(\r\n            self, Fibonacci, 'fibonacci')\n"})}),"\n",(0,a.jsx)(n.h2,{id:"quality-of-service-qos",children:"Quality of Service (QoS)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ QoS Settings\r\nrclcpp::QoS qos_profile(10);\r\nqos_profile.reliability(RMW_QOS_POLICY_RELIABILITY_RELIABLE);\r\nqos_profile.durability(RMW_QOS_POLICY_DURABILITY_VOLATILE);\r\n\r\nauto publisher = this->create_publisher<std_msgs::msg::String>(\r\n    "topic", qos_profile);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"tf2-transform-library",children:"TF2 (Transform Library)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cpp",children:'// C++ TF2 Broadcaster\r\n#include "tf2_ros/transform_broadcaster.h"\r\ngeometry_msgs::msg::TransformStamped t;\r\nt.header.stamp = this->get_clock()->now();\r\nt.header.frame_id = "world";\r\nt.child_frame_id = "robot";\r\n// Set transform values...\r\ntf_broadcaster_->sendTransform(t);\n'})}),"\n",(0,a.jsx)(n.h2,{id:"common-build-system-cmakeliststxt",children:"Common Build System (CMakeLists.txt)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.8)\r\nproject(my_package)\r\n\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclcpp REQUIRED)\r\nfind_package(std_msgs REQUIRED)\r\n\r\nadd_executable(my_node src/my_node.cpp)\r\nament_target_dependencies(my_node rclcpp std_msgs)\r\n\r\ninstall(TARGETS my_node DESTINATION lib/${PROJECT_NAME})\r\n\r\nament_package()\n"})}),"\n",(0,a.jsx)(n.h2,{id:"packagexml-template",children:"Package.xml Template"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>my_package</name>\r\n  <version>0.0.0</version>\r\n  <description>TODO: Package description</description>\r\n  <maintainer email="user@todo.todo">user</maintainer>\r\n  <license>TODO: License declaration</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>rclcpp</depend>\r\n  <depend>std_msgs</depend>\r\n\r\n  <test_depend>ament_lint_auto</test_depend>\r\n  <test_depend>ament_lint_common</test_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);