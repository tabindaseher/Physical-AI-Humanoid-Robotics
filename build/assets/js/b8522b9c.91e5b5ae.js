"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[8224],{8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>t});var o=r(6540);const a={},i=o.createContext(a);function s(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(i.Provider,{value:n},e.children)}},9116:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var o=r(4848),a=r(8453);const i={sidebar_position:2,title:"Appendix B: Gazebo Setup"},s="Appendix B: Gazebo Setup",t={id:"appendices/appendix-b-gazebo-setup",title:"Appendix B: Gazebo Setup",description:"Introduction to Gazebo",source:"@site/docs/appendices/appendix-b-gazebo-setup.md",sourceDirName:"appendices",slug:"/appendices/appendix-b-gazebo-setup",permalink:"/docs/appendices/appendix-b-gazebo-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/tabindaseher/Physical-AI-Humanoid-Robotics/edit/main/docs/appendices/appendix-b-gazebo-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Appendix B: Gazebo Setup"},sidebar:"tutorialSidebar",previous:{title:"Appendix A: ROS2 Cheatsheet",permalink:"/docs/appendices/appendix-a-ros2-cheatsheet"},next:{title:"Appendix C: Isaac ROS Tutorials",permalink:"/docs/appendices/appendix-c-isaac-ros-tutorials"}},l={},c=[{value:"Introduction to Gazebo",id:"introduction-to-gazebo",level:2},{value:"Installation",id:"installation",level:2},{value:"Ubuntu Installation",id:"ubuntu-installation",level:3},{value:"ROS 2 Integration",id:"ros-2-integration",level:3},{value:"Basic Gazebo Usage",id:"basic-gazebo-usage",level:2},{value:"Starting Gazebo",id:"starting-gazebo",level:3},{value:"Creating Robot Models",id:"creating-robot-models",level:2},{value:"URDF to SDF Conversion",id:"urdf-to-sdf-conversion",level:3},{value:"Adding Gazebo-Specific Tags",id:"adding-gazebo-specific-tags",level:3},{value:"Common Sensors in Gazebo",id:"common-sensors-in-gazebo",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"LIDAR Sensor",id:"lidar-sensor",level:3},{value:"Launching with ROS 2",id:"launching-with-ros-2",level:2},{value:"Launch File Example",id:"launch-file-example",level:3},{value:"Physics Configuration",id:"physics-configuration",level:2},{value:"World File Example",id:"world-file-example",level:3},{value:"Gazebo ROS Control",id:"gazebo-ros-control",level:2},{value:"ROS 2 Control Integration",id:"ros-2-control-integration",level:3},{value:"Control Configuration",id:"control-configuration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Environment Variables",id:"environment-variables",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"appendix-b-gazebo-setup",children:"Appendix B: Gazebo Setup"}),"\n",(0,o.jsx)(n.h2,{id:"introduction-to-gazebo",children:"Introduction to Gazebo"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo is a 3D simulation environment for robotics that provides realistic physics simulation, high-quality graphics, and convenient programmatic interfaces."}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.h3,{id:"ubuntu-installation",children:"Ubuntu Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Set up the Gazebo package repository\r\nsudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\r\nwget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\r\n\r\n# Update packages and install Gazebo\r\nsudo apt-get update\r\nsudo apt-get install gazebo libgazebo-dev\n"})}),"\n",(0,o.jsx)(n.h3,{id:"ros-2-integration",children:"ROS 2 Integration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo ROS packages\r\nsudo apt install ros-humble-gazebo-ros-pkgs\n"})}),"\n",(0,o.jsx)(n.h2,{id:"basic-gazebo-usage",children:"Basic Gazebo Usage"}),"\n",(0,o.jsx)(n.h3,{id:"starting-gazebo",children:"Starting Gazebo"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with GUI\r\ngazebo\r\n\r\n# Launch with a specific world file\r\ngazebo my_world.world\r\n\r\n# Launch without GUI (server only)\r\ngzserver my_world.world\n"})}),"\n",(0,o.jsx)(n.h2,{id:"creating-robot-models",children:"Creating Robot Models"}),"\n",(0,o.jsx)(n.h3,{id:"urdf-to-sdf-conversion",children:"URDF to SDF Conversion"}),"\n",(0,o.jsx)(n.p,{children:"Gazebo uses SDF (Simulation Description Format), but can read URDF (Unified Robot Description Format) models."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Basic URDF Robot:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_robot">\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.5 0.5 0.2"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.5 0.5 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n</robot>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"adding-gazebo-specific-tags",children:"Adding Gazebo-Specific Tags"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<robot name="gazebo_robot">\r\n  <link name="chassis">\r\n    \x3c!-- Link definition as above --\x3e\r\n  </link>\r\n\r\n  \x3c!-- Gazebo-specific plugin --\x3e\r\n  <gazebo>\r\n    <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\r\n      <ros>\r\n        <namespace>robot</namespace>\r\n        <remapping>cmd_vel:=cmd_vel</remapping>\r\n        <remapping>odom:=odom</remapping>\r\n      </ros>\r\n      <left_joint>left_wheel_joint</left_joint>\r\n      <right_joint>right_wheel_joint</right_joint>\r\n      <wheel_separation>0.4</wheel_separation>\r\n      <wheel_diameter>0.2</wheel_diameter>\r\n    </plugin>\r\n  </gazebo>\r\n</robot>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"common-sensors-in-gazebo",children:"Common Sensors in Gazebo"}),"\n",(0,o.jsx)(n.h3,{id:"camera-sensor",children:"Camera Sensor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\r\n  <camera name="head">\r\n    <horizontal_fov>1.047</horizontal_fov>\r\n    <image>\r\n      <width>640</width>\r\n      <height>480</height>\r\n    </image>\r\n    <clip>\r\n      <near>0.1</near>\r\n      <far>10</far>\r\n    </clip>\r\n  </camera>\r\n  <always_on>1</always_on>\r\n  <update_rate>30</update_rate>\r\n  <visualize>true</visualize>\r\n</sensor>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"lidar-sensor",children:"LIDAR Sensor"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<sensor name="laser" type="ray">\r\n  <ray>\r\n    <scan>\r\n      <horizontal>\r\n        <samples>360</samples>\r\n        <resolution>1</resolution>\r\n        <min_angle>-3.14159</min_angle>\r\n        <max_angle>3.14159</max_angle>\r\n      </horizontal>\r\n    </scan>\r\n    <range>\r\n      <min>0.1</min>\r\n      <max>10</max>\r\n      <resolution>0.01</resolution>\r\n    </range>\r\n  </ray>\r\n  <always_on>1</always_on>\r\n  <visualize>true</visualize>\r\n  <update_rate>10</update_rate>\r\n</sensor>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"launching-with-ros-2",children:"Launching with ROS 2"}),"\n",(0,o.jsx)(n.h3,{id:"launch-file-example",children:"Launch File Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Launch Gazebo Server\r\n    gazebo_server = Node(\r\n        package='gazebo_ros',\r\n        executable='gzserver',\r\n        name='gazebo_server',\r\n        parameters=[{'use_sim_time': True}]\r\n    )\r\n    \r\n    # Launch Gazebo Client\r\n    gazebo_client = Node(\r\n        package='gazebo_ros',\r\n        executable='gzclient',\r\n        name='gazebo_client'\r\n    )\r\n    \r\n    # Spawn robot in Gazebo\r\n    spawn_robot = Node(\r\n        package='gazebo_ros',\r\n        executable='spawn_entity.py',\r\n        arguments=[\r\n            '-topic', 'robot_description',\r\n            '-entity', 'my_robot',\r\n            '-x', '0', '-y', '0', '-z', '0.1'\r\n        ],\r\n        output='screen'\r\n    )\r\n    \r\n    return LaunchDescription([\r\n        gazebo_server,\r\n        gazebo_client,\r\n        spawn_robot\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h2,{id:"physics-configuration",children:"Physics Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"world-file-example",children:"World File Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<sdf version="1.7">\r\n  <world name="default">\r\n    <physics type="ode">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n    \r\n    \x3c!-- Ground plane --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n    \r\n    \x3c!-- Sun --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n    \r\n    \x3c!-- Your robot or models --\x3e\r\n    <model name="my_robot">\r\n      \x3c!-- Model definition --\x3e\r\n    </model>\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-ros-control",children:"Gazebo ROS Control"}),"\n",(0,o.jsx)(n.h3,{id:"ros-2-control-integration",children:"ROS 2 Control Integration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<gazebo>\r\n  <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">\r\n    <parameters>$(find my_robot_control)/config/my_robot_control.yaml</parameters>\r\n  </plugin>\r\n</gazebo>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"control-configuration",children:"Control Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'controller_manager:\r\n  ros__parameters:\r\n    update_rate: 100  # Hz\r\n\r\njoint_state_broadcaster:\r\n  type: joint_state_broadcaster/JointStateBroadcaster\r\n\r\nvelocity_controller:\r\n  type: diff_drive_controller/DiffDriveController\r\n\r\ndiff_drive_controller:\r\n  ros__parameters:\r\n    left_wheel_names: ["left_wheel_joint"]\r\n    right_wheel_names: ["right_wheel_joint"]\r\n    wheel_separation: 0.4\r\n    wheel_radius: 0.1\r\n    publish_rate: 50.0\n'})}),"\n",(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Gazebo not starting"}),": Check graphics drivers and X11 forwarding"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Robot falling through ground"}),": Verify inertial properties in URDF"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sensors not publishing"}),": Check ROS topic connections"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Performance issues"}),": Reduce physics update rate or simplify models"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Set Gazebo resources path\r\nexport GAZEBO_RESOURCE_PATH=/usr/share/gazebo-11:$GAZEBO_RESOURCE_PATH\r\n\r\n# Set models path\r\nexport GAZEBO_MODEL_PATH=/path/to/models:$GAZEBO_MODEL_PATH\r\n\r\n# Set plugin path\r\nexport GAZEBO_PLUGIN_PATH=/usr/lib/x86_64-linux-gnu/gazebo-11/plugins:$GAZEBO_PLUGIN_PATH\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);