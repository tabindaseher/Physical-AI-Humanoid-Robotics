"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[8224],{8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>t});var a=o(6540);const i={},r=a.createContext(i);function s(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(r.Provider,{value:n},e.children)}},9116:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});var a=o(4848),i=o(8453);const r={sidebar_position:2,title:"Appendix B: Gazebo Setup"},s="Appendix B: Gazebo Setup",t={id:"appendices/appendix-b-gazebo-setup",title:"Appendix B: Gazebo Setup",description:"Introduction to Gazebo",source:"@site/docs/appendices/appendix-b-gazebo-setup.md",sourceDirName:"appendices",slug:"/appendices/appendix-b-gazebo-setup",permalink:"/docs/appendices/appendix-b-gazebo-setup",draft:!1,unlisted:!1,editUrl:"https://github.com/tabindaseher/Physical-AI-Humanoid-Robotics/edit/main/docs/appendices/appendix-b-gazebo-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Appendix B: Gazebo Setup"},sidebar:"tutorialSidebar",previous:{title:"Appendix A: ROS2 Cheatsheet",permalink:"/docs/appendices/appendix-a-ros2-cheatsheet"},next:{title:"Appendix C: Isaac ROS Tutorials",permalink:"/docs/appendices/appendix-c-isaac-ros-tutorials"}},l={},c=[{value:"Introduction to Gazebo",id:"introduction-to-gazebo",level:2},{value:"Installation",id:"installation",level:2},{value:"Ubuntu Installation",id:"ubuntu-installation",level:3},{value:"ROS 2 Integration",id:"ros-2-integration",level:3},{value:"Basic Gazebo Usage",id:"basic-gazebo-usage",level:2},{value:"Starting Gazebo",id:"starting-gazebo",level:3},{value:"Creating Robot Models",id:"creating-robot-models",level:2},{value:"URDF to SDF Conversion",id:"urdf-to-sdf-conversion",level:3},{value:"Adding Gazebo-Specific Tags",id:"adding-gazebo-specific-tags",level:3},{value:"Common Sensors in Gazebo",id:"common-sensors-in-gazebo",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"LIDAR Sensor",id:"lidar-sensor",level:3},{value:"Launching with ROS 2",id:"launching-with-ros-2",level:2},{value:"Launch File Example",id:"launch-file-example",level:3},{value:"Physics Configuration",id:"physics-configuration",level:2},{value:"World File Example",id:"world-file-example",level:3},{value:"Gazebo ROS Control",id:"gazebo-ros-control",level:2},{value:"ROS 2 Control Integration",id:"ros-2-control-integration",level:3},{value:"Control Configuration",id:"control-configuration",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Environment Variables",id:"environment-variables",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"appendix-b-gazebo-setup",children:"Appendix B: Gazebo Setup"}),"\n",(0,a.jsx)(n.h2,{id:"introduction-to-gazebo",children:"Introduction to Gazebo"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo is a 3D simulation environment for robotics that provides realistic physics simulation, high-quality graphics, and convenient programmatic interfaces."}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.h3,{id:"ubuntu-installation",children:"Ubuntu Installation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Set up the Gazebo package repository\nsudo sh -c 'echo \"deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main\" > /etc/apt/sources.list.d/gazebo-stable.list'\nwget https://packages.osrfoundation.org/gazebo.key -O - | sudo apt-key add -\n\n# Update packages and install Gazebo\nsudo apt-get update\nsudo apt-get install gazebo libgazebo-dev\n"})}),"\n",(0,a.jsx)(n.h3,{id:"ros-2-integration",children:"ROS 2 Integration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Install Gazebo ROS packages\nsudo apt install ros-humble-gazebo-ros-pkgs\n"})}),"\n",(0,a.jsx)(n.h2,{id:"basic-gazebo-usage",children:"Basic Gazebo Usage"}),"\n",(0,a.jsx)(n.h3,{id:"starting-gazebo",children:"Starting Gazebo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Launch Gazebo with GUI\ngazebo\n\n# Launch with a specific world file\ngazebo my_world.world\n\n# Launch without GUI (server only)\ngzserver my_world.world\n"})}),"\n",(0,a.jsx)(n.h2,{id:"creating-robot-models",children:"Creating Robot Models"}),"\n",(0,a.jsx)(n.h3,{id:"urdf-to-sdf-conversion",children:"URDF to SDF Conversion"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo uses SDF (Simulation Description Format), but can read URDF (Unified Robot Description Format) models."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Basic URDF Robot:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.5 0.5 0.2"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\n    </inertial>\n  </link>\n</robot>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"adding-gazebo-specific-tags",children:"Adding Gazebo-Specific Tags"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<robot name="gazebo_robot">\n  <link name="chassis">\n    \x3c!-- Link definition as above --\x3e\n  </link>\n\n  \x3c!-- Gazebo-specific plugin --\x3e\n  <gazebo>\n    <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\n      <ros>\n        <namespace>robot</namespace>\n        <remapping>cmd_vel:=cmd_vel</remapping>\n        <remapping>odom:=odom</remapping>\n      </ros>\n      <left_joint>left_wheel_joint</left_joint>\n      <right_joint>right_wheel_joint</right_joint>\n      <wheel_separation>0.4</wheel_separation>\n      <wheel_diameter>0.2</wheel_diameter>\n    </plugin>\n  </gazebo>\n</robot>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"common-sensors-in-gazebo",children:"Common Sensors in Gazebo"}),"\n",(0,a.jsx)(n.h3,{id:"camera-sensor",children:"Camera Sensor"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\n  <camera name="head">\n    <horizontal_fov>1.047</horizontal_fov>\n    <image>\n      <width>640</width>\n      <height>480</height>\n    </image>\n    <clip>\n      <near>0.1</near>\n      <far>10</far>\n    </clip>\n  </camera>\n  <always_on>1</always_on>\n  <update_rate>30</update_rate>\n  <visualize>true</visualize>\n</sensor>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"lidar-sensor",children:"LIDAR Sensor"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<sensor name="laser" type="ray">\n  <ray>\n    <scan>\n      <horizontal>\n        <samples>360</samples>\n        <resolution>1</resolution>\n        <min_angle>-3.14159</min_angle>\n        <max_angle>3.14159</max_angle>\n      </horizontal>\n    </scan>\n    <range>\n      <min>0.1</min>\n      <max>10</max>\n      <resolution>0.01</resolution>\n    </range>\n  </ray>\n  <always_on>1</always_on>\n  <visualize>true</visualize>\n  <update_rate>10</update_rate>\n</sensor>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"launching-with-ros-2",children:"Launching with ROS 2"}),"\n",(0,a.jsx)(n.h3,{id:"launch-file-example",children:"Launch File Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\ndef generate_launch_description():\n    # Launch Gazebo Server\n    gazebo_server = Node(\n        package='gazebo_ros',\n        executable='gzserver',\n        name='gazebo_server',\n        parameters=[{'use_sim_time': True}]\n    )\n    \n    # Launch Gazebo Client\n    gazebo_client = Node(\n        package='gazebo_ros',\n        executable='gzclient',\n        name='gazebo_client'\n    )\n    \n    # Spawn robot in Gazebo\n    spawn_robot = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=[\n            '-topic', 'robot_description',\n            '-entity', 'my_robot',\n            '-x', '0', '-y', '0', '-z', '0.1'\n        ],\n        output='screen'\n    )\n    \n    return LaunchDescription([\n        gazebo_server,\n        gazebo_client,\n        spawn_robot\n    ])\n"})}),"\n",(0,a.jsx)(n.h2,{id:"physics-configuration",children:"Physics Configuration"}),"\n",(0,a.jsx)(n.h3,{id:"world-file-example",children:"World File Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<sdf version="1.7">\n  <world name="default">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n    </physics>\n    \n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    \n    \x3c!-- Sun --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n    \n    \x3c!-- Your robot or models --\x3e\n    <model name="my_robot">\n      \x3c!-- Model definition --\x3e\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"gazebo-ros-control",children:"Gazebo ROS Control"}),"\n",(0,a.jsx)(n.h3,{id:"ros-2-control-integration",children:"ROS 2 Control Integration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<gazebo>\n  <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">\n    <parameters>$(find my_robot_control)/config/my_robot_control.yaml</parameters>\n  </plugin>\n</gazebo>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"control-configuration",children:"Control Configuration"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'controller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\njoint_state_broadcaster:\n  type: joint_state_broadcaster/JointStateBroadcaster\n\nvelocity_controller:\n  type: diff_drive_controller/DiffDriveController\n\ndiff_drive_controller:\n  ros__parameters:\n    left_wheel_names: ["left_wheel_joint"]\n    right_wheel_names: ["right_wheel_joint"]\n    wheel_separation: 0.4\n    wheel_radius: 0.1\n    publish_rate: 50.0\n'})}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gazebo not starting"}),": Check graphics drivers and X11 forwarding"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Robot falling through ground"}),": Verify inertial properties in URDF"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensors not publishing"}),": Check ROS topic connections"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Performance issues"}),": Reduce physics update rate or simplify models"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Set Gazebo resources path\nexport GAZEBO_RESOURCE_PATH=/usr/share/gazebo-11:$GAZEBO_RESOURCE_PATH\n\n# Set models path\nexport GAZEBO_MODEL_PATH=/path/to/models:$GAZEBO_MODEL_PATH\n\n# Set plugin path\nexport GAZEBO_PLUGIN_PATH=/usr/lib/x86_64-linux-gnu/gazebo-11/plugins:$GAZEBO_PLUGIN_PATH\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);